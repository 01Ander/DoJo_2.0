# Mission: Polimorfismo en Transacciones
## Identification
Type: M
Campaign Code: PY-POO-FINANCE
Mission Code: M02
Title: Polimorfismo en Transacciones (Eliminar isinstance)
Status: ■ Pending

---
## Objective
Eliminar los chequeos de tipo (`isinstance`) dentro de `Transaction.apply()` delegando la responsabilidad a las cuentas.

---
## Description
Tu código actual en `Transaction` pregunta: *"¿Eres Tarjeta? Entonces uso `purchase`. ¿Eres Cuenta? Entonces uso `withdraw`."*
Esto es mala práctica.

El objetivo es que `Transaction` solo diga: `target.process_expense(amount)`.
Y que cada cuenta sepa qué hacer.

---
## Steps
1. En `BankAccount`, crear el método `process_expense(amount)` (que llama a `withdraw`).
2. En `CreditCard`, crear el método `process_expense(amount)` (que llama a `purchase`).
3. Hacer lo mismo para `process_income`.
4. Modificar `models/transactions.py`: Eliminar los `if isinstance` y llamar a los nuevos métodos genéricos.

---
## Completion Criteria
- [ ] `Transaction.apply()` no contiene `isinstance`.
- [ ] `Transaction.apply()` no importa `BankAccount` ni `CreditCard` (romper dependencia circular).